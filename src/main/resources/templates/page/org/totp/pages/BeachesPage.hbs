<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <title>Top of the Poops | Beaches</title>
    <meta name="description" content="Analysing sewage dumps by water companies">

    {{> chunks/meta-styles }}
    {{> chunks/meta-scripts }}

    <link rel="stylesheet" href="/assets/css/leaflet.css"/>
    <script src="/assets/js/leaflet-1.9.3/leaflet.js"></script>

    {{> components/meta-opengraph title="Beaches" }}

    <meta name="viewport" content="width=device-width, initial-scale=1">

</head>
<body>
{{> chunks/title }}
<div class="container">
    <div class="row">
        <div class="col">
            <p class="display-4">Clean English Beaches?</p>
        </div>
    </div>
    <div class="row">
        <div class="col">
            {{#> components/section title=(concat "Beaches Ranked for " year)}}

                <p>Here are all the beaches in England and Wales that had sewage overflows in 2021</p>

                <table id="table-beach" data-id="beach" class="table table-striped"
                       style="width: 100%">
                    <thead>
                    <tr>
                        <td>Rank</td>
                        <td>Beach</td>
                        <td>Company</td>
                        <td>Sewage Dumps</td>
                        <td>Duration</td>
                    </tr>
                    </thead>
                    <tbody>
                    {{#each beachRankings}}
                        <tr>
                            <td>{{this.rank}}</td>
                            <td>{{this.beach}}</td>
                            <td>{{this.company}}</td>
                            <td>{{this.count}}</td>
                            <td>{{this.duration.toHours}}</td>
                        </tr>
                    {{/each}}
                    </tbody>
                </table>
            {{/components/section}}
        </div>
    </div>
</div>

<script>
    new DataTable('#table-beach',
            {
                pageLength: 20,
                dom: "<'row'<'col-md-8'p><'col-md-4'f>>" +
                        "<'row'<'col-sm-12'tr>>" +
                        "<'row'<'col-sm-12 col-md-5'i>>"
            });
</script>

<div id="footer" class="container">
    <div class="row">
        <div class="col">{{> chunks/data-sources }}</div>
    </div>
    <div class="row">
        <div class="col">{{> chunks/copyright }}</div>
    </div>
</div>
</body>
</html>